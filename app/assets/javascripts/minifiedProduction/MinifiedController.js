function AttachmentCtrl(){}function CentreHomeController(e,t,n,r,i,s,o,u,a,f,l,c){c.currentUserName=s.user;s.onload=function(){n.getPhoto().success(function(t){e.myPhoto=t})};e.microposts=[];e.post=function(){if(e.data!=null){var n=e.data.micropost;var r=new t({content:n});r.$save();e.microposts.push(r);e.data.micropost=" "}else{alert("Hi, there, we didn't think you are having nothing")}};e.micropostComment=function(e){var t={content:e.commentIt};var n="microposts";var r=e.micropost.id;var i=o.getUrl(n,r);var s=i.save(t);if(!e.comments){e.comments=[]}e.comments.push(s);e.commentIt=" "};e.onVoteUp=function(t){var n={type:"up"};var r="microposts";var s=t.micropost.id;var o=i.vote(r,s);var u=o.save(n);e.vote=u};e.onFileSelect=function(t){f.uploadPhoto(t,e.myModelObj,e.upload);e.datas=f.getUploadedDatas()};e.toggleUpload=function(){e.flag2=true};e.onFileAttach=function(t){l.attachFile(t,e.description,e.upload,e.interestIds);e.attachments=l.getUploadedAttachment();e.description=" ";e.fileAttach=" "};e.attachmentComment=function(e){var t={content:e.commentIt};var n="attachments";var r=e.getFiles.id;var i=o.getUrl(n,r);var s=i.save(t);if(!e.comments){e.comments=[]}e.comments.push(s);e.commentIt=" "};e.toggleVideoUpload=function(){e.flag4=true};e.onVideoAttach=function(t){var n=angular.element("#videoAttachment");r.attachFile(t,e.videoDesc,e.upload,e.interestIds,n);e.videoAttachs=r.getUploadedAttachment();e.videoDesc=" "};e.videoComment=function(e){var t={content:e.commentIt};var n="video_attachments";var r=e.getFiles.id;var i=o.getUrl(n,r);var s=i.save(t);if(!e.comments){e.comments=[]}e.comments.push(s);e.commentIt=" "};e.interestIds=[];e.interestMapper=[];e.interests=[];e.loadInterests=function(){if(e.interests.length==0){a.getInterest().success(function(t){e.interests=t;angular.forEach(t,function(t,n){angular.forEach(t,function(t,n){e.interestMapper.push(t)})})})}};e.isDisabled={};e.toggleInterest=function(t){e.interestIds.push(t);e.isDisabled[t]=true}}function ActivityCtrl(e,t,n,r,i){var s=0;var o=[];var u;var a=true;e.activities=[];e.usersDetails=[];e.myPagingFunction=function(){s+=1;if(a){t.getActivities(s).success(function(t){o=t;u=o.activities;a=t.success;angular.forEach(u,function(t,r){e.activities.push(t);if(t.trackable_type!="Comment"){n.getFeed(t.user_id,t.trackable_id,t.trackable_type).success(function(t){e.usersDetails.push(t)})}})})}};e.comment=function(e){var t={content:e.commentIt};var n=e.feedModel;var r=e.feed.id;var s=i.getUrl(n,r);var o=s.save(t);if(!e.comments){e.comments=[]}e.comments.push(o);e.commentIt=" "};e.onVote=function(e,t){var n=e.feedModel;var i=e.feed.id;console.log(n);if(n=="video_attachments"){var s={type:t,model:n,id:i};var o=r.voteVideo();var u=o.save(s);e.vote=u}else if(n=="microposts"){var s={type:t};var o=r.vote(n,i);var u=o.save(s);e.vote=u}else if(n=="attachments"){var s={type:t};var o=r.vote(n,i);var u=o.save(s);e.vote=u}}}function ChatCtrl(e,t){e.messages=[];e.sendMessage=function(){e.messages.push(e.data.message);var n={content:e.data.message};n=t.save(n);e.messages.push(n);e.data.message=" "}}function LeftHomeController(e,t){e.togglePhoto1=true;e.togglePhoto2=false;e.onPhotoAttach=function(n){t.uploadPhoto(n);e.profile_photo=t.getUploadedDatas();e.togglePhoto1=false;e.togglePhoto2=true}}function PlaceCtrl(e,t,n,r,i){var s=0;var o=true;e.interestedPlaces=[];e.favourite=function(e){n.getPlaceUrl(e.id).success(function(t){if(t.success){e.favourite=e.favourite+1}})};e.fetchPlaces=function(t){r.getNextInterest(t).success(function(t){e.interestedPlaces=[];o=true;s=1;e.interestedPlaces.push(t)})};e.myPagingFunction=function(){if(o){s+=1;i(function(){r.getNextPage(s).success(function(t){e.interestedPlaces.push(t);o=t.success;return t})},1)}}}function PlaceShowCtrl(e,t,n){var r=false;var i=0;e.toggle=false;e.current_user_id=gon.user_id;if(gon.rating){e.user_rating=gon.rating.rate;e.rating_user_id=gon.rating.user_id}if(e.user_rating==null){e.user_rating=0}var s=gon.type;var o=gon.id;e.rating_url="/rating";e.trackable_id=o;e.trackable_type=s;e.createStory=function(n){var r={story_name:e.story_name,story_description:e.story_description,place_id:n};r=t.setStoryUrl().save(r)};e.detailDescription=null;e.detailShow=false;e.getPlaceDetails=function(){n.getDetailDescription(o).success(function(t){e.detailDescription=t;e.detailShow=true})}}function PlaceNewController(e,t){e.onVideoAttach=function(n,r){console.log(r);t.attachFile(n,e.description,e.upload,r);e.attachments=t.getUploadedAttachment();e.description=" ";e.videoAttach=" "}}function PlaceUnsignedCtrl(e,t){e.places=[];e.getPlaces=function(){t.getRecentPlaces().success(function(t){e.places.push(t)})};e.currentIndex=0;e.setCurrentSlideIndex=function(t){e.currentIndex=t};e.isCurrentSlideIndex=function(t){return e.currentIndex===t}}function RightHomeController(e,t,n){e.test="Hello world";e.affinities=[];var r=[];t.getFriendSuggestions().success(function(t){angular.forEach(t,function(e,t){r.push(e)});var n=r[0];for(var i=0;i<n.length;i++){e.affinities.push(n[i])}});e.relate=function(t,r,i){var s={other_id:t,affinity_id:r};var o=n.setRelation().save(s);e.affinities.splice(i,1)}}function SearchCtrl(e,t){}function InterestsCtrl(e,t,n,r){t.interstIds=[];t.currentUser=e.user;var i=gon.user_id;t.isDisabled={};t.addInterest=function(e){var r=n.interestUrl();var s={id:e,user_id:i};t.isDisabled[e]=true;var o=r.save(s);t.added=o;t.interstIds.push(e);var u=0;t.flag=function(e){}};var s=angular.element("#user_workplace_tokens");s.change(function(){t.$apply(function(){t.user_college=s.val()})});var o=angular.element("#user_location_tokens");o.change(function(){t.$apply(function(){t.user_location=o.val()})});t.addWorkPlace=function(){var e={workplace_ids:t.user_college,user_id:i,location_ids:t.user_location};e=r.setWorkPlace().save(e)}}function TripCtrl(e,t){var n=0;e.users=null;e.inviteFollowers=function(){n+=1;if(e.users==null){t.getFollowers(n).then(function(t){console.log(t);e.users=t})}};e.userIds=[];e.toggleSelection=function(n){var r=e.userIds.indexOf(n);if(r>-1){e.userIds.splice(r,1)}else{e.userIds.push(n)}console.log(e.userIds)}}function TripIndexCtrl(e){e.unjoinToggleOut=false;e.joinToggleOut=false;e.acceptance=true;e.join=function(t){e.acceptance=!e.acceptance;e.unjoinToggleOut=!e.unjoinToggleOut};e.unjoin=function(t){e.joinToggleOut=!e.joinToggleOut;e.acceptance=!e.acceptance};e.trips=gon.trips}function VideoCtrl(e,t,n){t.onload=function(){e.videos=[];e.videosDetail=[];n.getVideoUrl().success(function(t){angular.forEach(t,function(t,n){angular.forEach(t,function(t,n){angular.forEach(t,function(t,n){if(e.videos.indexOf(t.file.url)==-1){e.videos.push(t.file.url);e.videosDetail.push(t)}})})});angular.forEach(e.videosDetail,function(e,t){})})}}app.controller("AttachmentCtrl",AttachmentCtrl);AttachmentCtrl.$inject=[];app.controller("CentreHomeController",CentreHomeController);CentreHomeController.$inject=["$scope","Micropost","PhotoService","VideoUploadService","VoteUrlService","$window","CommentUrlService","$upload","GetInterestsService","PhotoUploadService","FileUploadService","$rootScope"];app.controller("ActivityCtrl",ActivityCtrl);ActivityCtrl.$inject=["$scope","ActivityIndexService","ActivityOtherUserService","VoteUrlService","CommentUrlService"];app.controller("ChatCtrl",ChatCtrl);ChatCtrl.$inject=["$scope","MessageService"];app.controller("LeftHomeController",LeftHomeController);LeftHomeController.$inject=["$scope","ProfilePhotoUploadService"];app.controller("PlaceCtrl",PlaceCtrl);PlaceCtrl.$inject=["$scope","$window","PlaceFavouriteService","PlaceServices","$timeout"];app.controller("PlaceShowCtrl",PlaceShowCtrl);PlaceShowCtrl.$inject=["$scope","StoryServices","PlaceDetailServices"];app.controller("PlaceNewController",PlaceNewController);PlaceNewController.$inject=["$scope","PlaceVideoUploadService"];app.controller("PlaceUnsignedCtrl",PlaceUnsignedCtrl);PlaceUnsignedCtrl.$inject=["$scope","UnsignedPlaceServices"];app.controller("RightHomeController",RightHomeController);RightHomeController.$inject=["$scope","SuggestionServices","UserServices"];app.controller("SearchCtrl",SearchCtrl);SearchCtrl.$inject=["$scope","$window"];app.controller("InterestsCtrl",InterestsCtrl);InterestsCtrl.$inject=["$window","$scope","AddInterestService","UserServices"];app.controller("TripCtrl",TripCtrl);TripCtrl.$inject=["$scope","UserServices"];app.controller("TripIndexCtrl",TripIndexCtrl);TripIndexCtrl.$inject=["$scope"];app.controller("VideoCtrl",VideoCtrl);VideoCtrl.$inject=["$scope","$window","GetVideosService"]