(function(){var e=angular.module("angularFileUpload",[]);e.service("$upload",["$http",function(e){this.upload=function(t){t.method=t.method||"POST";t.headers=t.headers||{};t.headers["Content-Type"]=undefined;var n=new FormData;if(t.data){for(var r in t.data){var i=t.data[r];if(t.transformRequest){if(typeof t.transformRequest=="function"){i=t.transformRequest(i)}else{for(fn in t.transformRequest){if(typeof fn=="function"){i=fn(i)}}}}else{i=e.defaults.transformRequest[0](i)}n.append(r,i)}}t.transformRequest=angular.identity;n.append(t.fileFormDataName||"file",t.file,t.file.name);n["__uploadProgress_"]=function(e){if(e)t.progress(e)};t.data=n;var s=e(t);s.abort=function(){throw"upload is not started yet"};n["__setAbortFunction_"]=function(e){s.abort=e};return s}}]);e.directive("ngFileSelect",["$parse","$http",function(e,t){return function(t,n,r){var i=e(r["ngFileSelect"]);n.bind("change",function(e){var n=[],r,s;r=e.target.files;if(r!=null){for(s=0;s<r.length;s++){n.push(r.item(s))}}t.$apply(function(){i(t,{$files:n,$event:e})})});n.bind("click",function(){this.value=null})}}]);e.directive("ngFileClick",["$parse","$http",function(e,t){return function(t,n,r){var i=e(r["ngFileClick"]);n.bind("click",function(e){var n=[],r,s;r=e.target.files;if(r!=null){for(s=0;s<r.length;s++){n.push(r.item(s))}}t.$apply(function(){i(t,{$files:n,$event:e})})});n.bind("click",function(){this.value=null})}}]);e.directive("ngFileDropAvailable",["$parse","$http",function(e,t){return function(t,n,r){if("draggable"in document.createElement("span")){var i=e(r["ngFileDropAvailable"]);if(!t.$$phase){t.$apply(function(){i(t)})}else{i(t)}}}}]);e.directive("ngFileDrop",["$parse","$http",function(e,t){return function(t,n,r){if("draggable"in document.createElement("span")){var i=e(r["ngFileDrop"]);n[0].addEventListener("dragover",function(e){e.stopPropagation();e.preventDefault();n.addClass(r["ngFileDragOverClass"]||"dragover")},false);n[0].addEventListener("dragleave",function(e){n.removeClass(r["ngFileDragOverClass"]||"dragover")},false);n[0].addEventListener("drop",function(e){e.stopPropagation();e.preventDefault();n.removeClass(r["ngFileDragOverClass"]||"dragover");var s=[],o=e.dataTransfer.files,u;if(o!=null){for(u=0;u<o.length;u++){s.push(o.item(u))}}t.$apply(function(){i(t,{$files:s,$event:e})})},false)}}}])})()